import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import dedent from 'ts-dedent';

import { ExceptionList, ExceptionListItem } from '@/polaris-vue';
import NoteMinor from '@icons/NoteMinor.svg';
import DiscountsMajor from '@icons/DiscountsMajor.svg';

<Meta
  title="Components / Exception List"
  component={ ExceptionListItem }
  argTypes={{
    default: {
      table: {
        disable: true,
      },
    },
    status: {
      options: ['critical', 'warning'],
      table: {
        type: { summary: 'critical | warning' },
      }
    }
  }}
/>

export const Template = (args) => ({
  components: { NoteMinor, ExceptionList, ExceptionListItem },
  setup() { return { args, NoteMinor, DiscountsMajor }; },
  template: `<ExceptionList>
    <ExceptionListItem :icon="NoteMinor">This customer is awesome. Make sure to treat them right!</ExceptionListItem>
    <ExceptionListItem title="Required" status="critical">This order need to be fulfilled ASAP.</ExceptionListItem>
    <ExceptionListItem title="Warning" status="warning" :icon="DiscountsMajor">This order was applied discount code.</ExceptionListItem>
    <ExceptionListItem v-bind="args">Example Exception List Item</ExceptionListItem>
  </ExceptionList>`,
});

# Exception List

Use exception lists to help merchants notice important, standout information that adds extra context to a task. Exception lists often consist of a title and description. Each item in the list either has a bullet or icon at the front.

<Canvas>
  <Story
    name="Exception List"
    height="120px"
    parameters={{
      docs: {
        source: {
          code: dedent`
            <ExceptionList>
              <ExceptionListItem :icon="NoteMinor">This customer is awesome. Make sure to treat them right!</ExceptionListItem>
              <ExceptionListItem title="Required" status="critical">This order need to be fulfilled ASAP.</ExceptionListItem>
              <ExceptionListItem title="Warning" status="warning" :icon="DiscountsMajor">This order was applied discount code.</ExceptionListItem>
              <ExceptionListItem>Example Exception List Item</ExceptionListItem>
            </ExceptionList>\n
            <script setup>
            import NoteMinor from '@shopify/polaris-icons/dist/svg/NoteMinor.svg';
            import DiscountsMajor from '@shopify/polaris-icons/dist/svg/DiscountsMajor.svg';
            </script>
          `,
        }
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Exception List" />
