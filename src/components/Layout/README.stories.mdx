import dedent from 'ts-dedent';
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';

import { Layout, LayoutSection, AnnotatedSection, TextField, FormLayout } from '@/polaris-vue';

<Meta
  title="Components / Structure / Layout"
  component={ Layout }
  argTypes={{
    default: {
      table: {
        disable: true,
      },
    },
    secondary: {
      description: 'Secondary width',
      table: {
        category: 'section props',
        type: {
          summary: 'boolean',
        }
      }
    },
    fullWidth: {
      description: 'Make section have full width',
      table: {
        category: 'section props',
        type: {
          summary: 'boolean',
        }
      }
    },
    oneHalf: {
      description: 'Use for 1/2 + 1/2 layout',
      table: {
        category: 'section props',
        type: {
          summary: 'boolean',
        }
      }
    },
    oneThird: {
      description: 'use for 1/3 + 1/3 + 1/3 layout',
      table: {
        category: 'section props',
        type: {
          summary: 'boolean',
        }
      }
    },
  }}
/>

# Layout

The layout component is used to create the main layout on a page.
Layouts sections come in three main configurations: one-column, two-column, and annotated.
One and two column layouts can be combined in the same page.
Annotated layouts should be used on their own and only on settings pages.

<br/><br/>

### One-column layout

Use to have a single section on its own in a full-width container.
Use for simple pages and as a container for banners and other full-width content.

export const OneColLayout = (args) => ({
  components: { Layout, LayoutSection, AnnotatedSection, TextField },
  template: `
  <Layout>
    <LayoutSection>
      <TextField autoComplete="off">
        <template #label>Text field</template>
      </TextField>
    </LayoutSection>
  </Layout>`,
});

<Canvas>
  <Story
    name="One column layout"
    parameters={{
      docs: {
        source: {
          state: 'close',
          code: dedent`
          <Layout>
            <LayoutSection>
              <TextField autoComplete="off">
                <template #label>Text field</template>
              </TextField>
            </LayoutSection>
          </Layout>\n
          import { Layout, LayoutSection, TextField } from '@/polaris-vue';
          `
        },
      },
    }}
  >
    {OneColLayout.bind({})}
  </Story>
</Canvas>

### Two columns with primary and secondary widths

Use to follow a normal section with a secondary section to create a 2/3 + 1/3 layout on detail pages (such as individual product or order pages).
Can also be used on any page that needs to structure a lot of content. This layout stacks the columns on small screens.

export const TwoColLayoutDW = (args) => ({
  components: { Layout, LayoutSection, AnnotatedSection, TextField },
  template: `
  <Layout>
    <LayoutSection>
      <TextField autoComplete="off">
        <template #label>Text field</template>
      </TextField>
    </LayoutSection>
    <LayoutSection :secondary="true">
      <TextField autoComplete="off">
        <template #label>Text field</template>
      </TextField>
    </LayoutSection>
  </Layout>`,
});


<Canvas>
  <Story
    name="Two columns (different width)"
    parameters={{
      docs: {
        source: {
          state: 'close',
          code: dedent`
            <Layout>
              <LayoutSection>
                <TextField autoComplete="off">
                  <template #label>Text field</template>
                </TextField>
              </LayoutSection>
              <LayoutSection :secondary="true">
                <TextField autoComplete="off">
                  <template #label>Text field</template>
                </TextField>
              </LayoutSection>
            </Layout>\n
            import { Layout, LayoutSection, TextField } from '@/polaris-vue';
          `
        },
      },
    }}
  >
    {TwoColLayoutDW.bind({})}
  </Story>
</Canvas>

### Two columns with equal width

Use to create a ½ + ½ layout. Can be used to display content of equal importance.
This layout will stack the columns on small screens.

export const TwoColLayoutSW = (args) => ({
  components: { Layout, LayoutSection, AnnotatedSection, TextField },
  template: `
  <Layout>
    <LayoutSection :oneHalf="true">
      <TextField autoComplete="off">
        <template #label>Text field</template>
      </TextField>
    </LayoutSection>
    <LayoutSection :oneHalf="true">
      <TextField autoComplete="off">
        <template #label>Text field</template>
      </TextField>
    </LayoutSection>
  </Layout>`,
});


<Canvas>
  <Story
    name="Two columns (same width)"
    parameters={{
      docs: {
        source: {
          state: 'close',
          code: dedent`
          <Layout>
            <LayoutSection :oneHalf="true">
              <TextField autoComplete="off">
                <template #label>Text field</template>
              </TextField>
            </LayoutSection>
            <LayoutSection :oneHalf="true">
              <TextField autoComplete="off">
                <template #label>Text field</template>
              </TextField>
            </LayoutSection>
          </Layout>\n
          import { Layout, LayoutSection, TextField } from '@/polaris-vue';
          `
        },
      },
    }}
  >
    {TwoColLayoutSW.bind({})}
  </Story>
</Canvas>

### Three columns with equal width

Use to create a ⅓ + ⅓ + ⅓ layout. Can be used to display content of equal importance.
This layout will stack the columns on small screens.

export const ThreeColLayoutSW = (args) => ({
  components: { Layout, LayoutSection, AnnotatedSection, TextField },
  template: `
  <Layout>
    <LayoutSection :oneThird="true">
      <TextField autoComplete="off">
        <template #label>Text field</template>
      </TextField>
    </LayoutSection>
    <LayoutSection :oneThird="true">
      <TextField autoComplete="off">
        <template #label>Text field</template>
      </TextField>
    </LayoutSection>
    <LayoutSection :oneThird="true">
      <TextField autoComplete="off">
        <template #label>Text field</template>
      </TextField>
    </LayoutSection>
  </Layout>`,
});


<Canvas>
  <Story
    name="Three columns (same width)"
    parameters={{
      docs: {
        source: {
          state: 'close',
          code: dedent`
          <Layout>
            <LayoutSection :oneThird="true">
              <TextField autoComplete="off">
                <template #label>Text field</template>
              </TextField>
            </LayoutSection>
            <LayoutSection :oneThird="true">
              <TextField autoComplete="off">
                <template #label>Text field</template>
              </TextField>
            </LayoutSection>
            <LayoutSection :oneThird="true">
              <TextField autoComplete="off">
                <template #label>Text field</template>
              </TextField>
            </LayoutSection>
          </Layout>
          `
        },
      },
    }}
  >
    {ThreeColLayoutSW.bind({})}
  </Story>
</Canvas>

### Annotated layout

Use for settings pages. When settings are grouped thematically in annotated sections,
the title and description on each section helps merchants quickly find the setting they're looking for.

export const AnnotatedLayout = (args) => ({
  components: { Layout, LayoutSection, AnnotatedSection, TextField, FormLayout },
  template: `
  <Layout>
    <AnnotatedSection>
      <template #title>Store details</template>
      <template #description>
        Shopify and your customers will use this information to contact you.
      </template>
      <FormLayout>
        <TextField autoComplete="off">
          <template #label>
            Store name
          </template>
        </TextField>
        <TextField type="email" autoComplete="email">
          <template #label>
            Account email
          </template>
        </TextField>
      </FormLayout>
    </AnnotatedSection>
  </Layout>`,
});
AnnotatedLayout.parameters = {
  docs: {
    source: {
      state: 'close',
      code: dedent`
        <Layout>
          <AnnotatedSection>
            <template #title>Store details</template>
            <template #description>
              Shopify and your customers will use this information to contact you.
            </template>
            <FormLayout>
              <TextField autoComplete="off">
                <template #label>
                  Store name
                </template>
              </TextField>
              <TextField type="email" autoComplete="email">
                <template #label>
                  Account email
                </template>
              </TextField>
            </FormLayout>
          </AnnotatedSection>
        </Layout>\n
        import { Layout, AnnotatedSection, FormLayout, TextField } from '@/polaris-vue';
      `
    },
  } ,
}


<Canvas>
  <Story story={AnnotatedLayout} name="Annotated layout">
  </Story>
</Canvas>

### Annotated layout with Banner at the top

Use for settings pages that need a banner or other content at the top.

export const AnnotatedBannerLayout = (args) => ({
  components: { Layout, LayoutSection, AnnotatedSection, TextField, FormLayout },
  template: `
  <Layout>
    <LayoutSection>
      Banner content
    </LayoutSection>
    <AnnotatedSection>
      <template #title>Store details</template>
      <template #description>
        Shopify and your customers will use this information to contact you.
      </template>
      <FormLayout>
        <TextField autoComplete="off">
          <template #label>
            Store name
          </template>
        </TextField>
        <TextField type="email" autoComplete="email">
          <template #label>
            Account email
          </template>
        </TextField>
      </FormLayout>
    </AnnotatedSection>
  </Layout>`,
});
AnnotatedBannerLayout.parameters = {
  docs: {
    source: {
      state: 'close',
      code: dedent`
      <Layout>
        <LayoutSection>
          Banner content
        </LayoutSection>
        <AnnotatedSection>
          <template #title>Store details</template>
          <template #description>
            Shopify and your customers will use this information to contact you.
          </template>
          <FormLayout>
            <TextField autoComplete="off">
              <template #label>
                Store name
              </template>
            </TextField>
            <TextField type="email" autoComplete="email">
              <template #label>
                Account email
              </template>
            </TextField>
          </FormLayout>
        </AnnotatedSection>
      </Layout>\n
      import { Layout, AnnotatedSection, FormLayout, TextField } from '@/polaris-vue'
      `
    },
  },
}

<Canvas>
  <Story story={AnnotatedBannerLayout} name="Annotated layout (with Banner)">
  </Story>
</Canvas>

### Example

export const Example = (args) => ({
  components: { Layout, LayoutSection, AnnotatedSection, TextField },
  setup() { return { args }; },
  template: `
  <Layout v-bind="args">
    <LayoutSection>
      <TextField autoComplete="off">
        <template #label>Text field</template>
      </TextField>
    </LayoutSection>
  </Layout>`,
});


<Canvas>
  <Story
    name="Example"
    height="100px"
    parameters={{
      docs: {
        source: {
          code: dedent`
            <Layout>
              <LayoutSection>
                <TextField autoComplete="off">
                  <template #label>Text field</template>
                </TextField>
              </LayoutSection>
            </Layout>\n
            import { Layout, LayoutSection, TextField } from '@/polaris-vue';
          `
        },
      },
    }}
  >
    {Example.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Example"/>
